# ä½¿ã£ã¦ã¿ã‚ˆã† â€” 10 Tools Ã— 8 Resources Ã— 6 Promptsã®å®Ÿè·µã‚¬ã‚¤ãƒ‰

> **ã‚·ãƒªãƒ¼ã‚º**: Nablarch MCP Server å°‚é–€å®¶è‚²æˆã‚·ãƒªãƒ¼ã‚º ç¬¬4å›
> **å¯¾è±¡èª­è€…**: Nablarché–‹ç™ºè€…ã€AIãƒ„ãƒ¼ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼
> **å‰æçŸ¥è­˜**: è¨˜äº‹03ï¼ˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼‰
> **æ‰€è¦æ™‚é–“**: ç´„30åˆ†

---

## ç›®æ¬¡

1. [ã“ã®è¨˜äº‹ã§å­¦ã¹ã‚‹ã“ã¨](#1-ã“ã®è¨˜äº‹ã§å­¦ã¹ã‚‹ã“ã¨)
2. [Toolsã‚’ä½¿ã£ã¦ã¿ã‚ˆã†](#2-toolsã‚’ä½¿ã£ã¦ã¿ã‚ˆã†)
3. [Resourcesã‚’ä½¿ã£ã¦ã¿ã‚ˆã†](#3-resourcesã‚’ä½¿ã£ã¦ã¿ã‚ˆã†)
4. [Promptsã‚’ä½¿ã£ã¦ã¿ã‚ˆã†](#4-promptsã‚’ä½¿ã£ã¦ã¿ã‚ˆã†)
5. [å®Ÿè·µã‚·ãƒŠãƒªã‚ª: Nablarch Webã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã‚ˆã†](#5-å®Ÿè·µã‚·ãƒŠãƒªã‚ª-nablarch-webã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã‚ˆã†)
6. [ã¾ã¨ã‚](#6-ã¾ã¨ã‚)

---

## 1. ã“ã®è¨˜äº‹ã§å­¦ã¹ã‚‹ã“ã¨

Nablarch MCP ServerãŒæä¾›ã™ã‚‹å…¨24ç¨®ã®MCPæ©Ÿèƒ½ï¼ˆ10 Tools + 8 Resources + 6 Promptsï¼‰ã‚’å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¾ã™ã€‚

### å­¦ç¿’å†…å®¹

- âœ… **10 Tools**: APIæ¤œç´¢ã€ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ¤œè¨¼ã€RAGæ¤œç´¢ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€ãƒ†ã‚¹ãƒˆç”Ÿæˆã€æœ€é©åŒ–ã€ãƒ‘ã‚¿ãƒ¼ãƒ³æ¨è–¦ã€ç§»è¡Œåˆ†æ
- âœ… **8 Resources**: ãƒãƒ³ãƒ‰ãƒ©ã‚«ã‚¿ãƒ­ã‚°ã€é–‹ç™ºã‚¬ã‚¤ãƒ‰ã€APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã€è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€è¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
- âœ… **6 Prompts**: ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆã€è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒãƒ³ãƒ‰ãƒ©è§£èª¬ã€ç§»è¡Œã‚¬ã‚¤ãƒ‰ã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### å‰æçŸ¥è­˜

æœ¬è¨˜äº‹ã¯ã€è¨˜äº‹03ã€Œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã€ã§MCPã‚µãƒ¼ãƒãƒ¼ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã®çŠ¶æ…‹ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚

- Claude Desktop/Claude Code/VS Codeç­‰ã®AIãƒ„ãƒ¼ãƒ«ã«MCPã‚µãƒ¼ãƒãƒ¼ãŒæ¥ç¶šæ¸ˆã¿
- AIãƒ„ãƒ¼ãƒ«ä¸Šã§ `nablarch` MCPã‚µãƒ¼ãƒãƒ¼ãŒèªè­˜ã•ã‚Œã¦ã„ã‚‹
- Java 17ä»¥ä¸Šã€Maven 3.9.xï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿

---

## 2. Toolsã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

Toolsã¯AIãŒå®Ÿè¡Œã§ãã‚‹é–¢æ•°ã§ã™ã€‚AIã«ã€Œã€œã‚’æ¤œç´¢ã—ã¦ã€ã€Œã€œã‚’æ¤œè¨¼ã—ã¦ã€ã¨ä¾é ¼ã™ã‚‹ã¨ã€AIãŒToolã‚’å‘¼ã³å‡ºã—ã¦çµæœã‚’å–å¾—ã—ã¾ã™ã€‚

### 2.1 search_api Tool â€” APIæ¤œç´¢

NablarchçŸ¥è­˜ãƒ™ãƒ¼ã‚¹ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã—ã€APIãƒ»ãƒãƒ³ãƒ‰ãƒ©ãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’è¿”ã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
UniversalDaoã‚’æ¤œç´¢ã—ã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
æ¤œç´¢çµæœ: "UniversalDao"
ä»¶æ•°: 3ä»¶

### [APIãƒ‘ã‚¿ãƒ¼ãƒ³] universal-dao (library)
UniversalDaoã‚’ä½¿ã£ãŸCRUDæ“ä½œ
FQCN: nablarch.common.dao.UniversalDao

### [ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«] nablarch-common-dao (library)
ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«DAO

### [è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³] dao-pattern (data-access)
ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
```

#### Toolå‘¼ã³å‡ºã—ã®æµã‚Œ

```mermaid
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant AI as Claude
    participant MCP as Nablarch MCP Server
    participant KB as Knowledge Base

    User->>AI: UniversalDaoã‚’æ¤œç´¢ã—ã¦
    AI->>MCP: tools/call: search_api<br/>{keyword: "UniversalDao"}
    MCP->>KB: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°æ¤œç´¢
    KB-->>MCP: æ¤œç´¢çµæœï¼ˆ3ä»¶ï¼‰
    MCP-->>AI: Markdownãƒ¬ã‚¹ãƒãƒ³ã‚¹
    AI-->>User: æ¤œç´¢çµæœã‚’æ•´å½¢ã—ã¦æç¤º
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `keyword` | String | â—‹ | æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆã‚¯ãƒ©ã‚¹åã€ãƒ¡ã‚½ãƒƒãƒ‰åã€æ¦‚å¿µï¼‰ |
| `category` | String | - | ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿: handler, library, web, batch, rest, messaging |

---

### 2.2 validate_handler_queue Tool â€” ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ¤œè¨¼

ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLè¨­å®šã‚’æ¤œè¨¼ã—ã€é †åºåˆ¶ç´„ãƒ»å¿…é ˆãƒãƒ³ãƒ‰ãƒ©ã®æœ‰ç„¡ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
ä»¥ä¸‹ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’æ¤œè¨¼ã—ã¦:

<list name="handlerQueue">
  <component class="nablarch.fw.web.handler.HttpResponseHandler"/>
  <component class="nablarch.common.handler.TransactionManagementHandler"/>
  <component class="nablarch.common.handler.DbConnectionManagementHandler"/>
</list>
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ¤œè¨¼çµæœ

æ¤œè¨¼å¯¾è±¡: web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
ãƒãƒ³ãƒ‰ãƒ©æ•°: 3

### æ¤œè¨¼çµæœ: âŒ ã‚¨ãƒ©ãƒ¼ã‚ã‚Š

#### ã‚¨ãƒ©ãƒ¼
- DbConnectionManagementHandler ã¯ TransactionManagementHandler ã‚ˆã‚Šå‰ã«é…ç½®ã™ã¹ãã§ã™
  ç†ç”±: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã«ã¯DBæ¥ç¶šãŒå¿…è¦

#### è­¦å‘Š
- GlobalErrorHandler ãŒæ¬ è½ã—ã¦ã„ã¾ã™ï¼ˆæ¨å¥¨ï¼‰
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `handlerQueueXml` | String | â—‹ | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLè¨­å®šå†…å®¹ |
| `applicationType` | String | â—‹ | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: web, rest, batch, messaging |

---

### 2.3 semantic_search Tool â€” RAGã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢

RAGã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚ˆã‚‹ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã€‚è‡ªç„¶è¨€èªã‚¯ã‚¨ãƒªã§Nablarchãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ã‚³ãƒ¼ãƒ‰ãƒ»Javadocã‚’æ¨ªæ–­æ¤œç´¢ã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
Nablarchã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã‚’è¨­å®šã™ã‚‹æ–¹æ³•
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## æ¤œç´¢çµæœ: "Nablarchã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã‚’è¨­å®šã™ã‚‹æ–¹æ³•"
ãƒ¢ãƒ¼ãƒ‰: hybrid | çµæœæ•°: 3ä»¶ | æ¤œç´¢æ™‚é–“: 245ms

---

### çµæœ 1 (ã‚¹ã‚³ã‚¢: 0.892)
**ã‚½ãƒ¼ã‚¹**: nablarch-document | web | nablarch-common-jdbc
**URL**: https://nablarch.github.io/docs/...

TransactionManagementHandlerã‚’ä½¿ç”¨ã—ã¦ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œã‚’è¨­å®šã—ã¾ã™ã€‚
ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼å†…ã«TransactionManagementHandlerã‚’é…ç½®ã—ã€
DbConnectionManagementHandlerã®å¾Œã«é…ç½®ã—ã¦ãã ã•ã„...

---

### çµæœ 2 (ã‚¹ã‚³ã‚¢: 0.856)
**ã‚½ãƒ¼ã‚¹**: github | nablarch-example-web
**URL**: https://github.com/nablarch/nablarch-example-web/...

```xml
<component class="nablarch.common.handler.TransactionManagementHandler">
  <property name="dbTransactionManager" ref="transactionManager"/>
</component>
```
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `query` | String | â—‹ | - | æ¤œç´¢ã‚¯ã‚¨ãƒªï¼ˆè‡ªç„¶è¨€èªï¼‰ |
| `appType` | String | - | null | ã‚¢ãƒ—ãƒªç¨®åˆ¥ãƒ•ã‚£ãƒ«ã‚¿: web, rest, batch, messaging |
| `source` | String | - | null | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãƒ•ã‚£ãƒ«ã‚¿: nablarch-document, github, fintan, javadoc |
| `topK` | Integer | - | 5 | è¿”å´ã™ã‚‹çµæœæ•°ï¼ˆ1-50ï¼‰ |
| `mode` | String | - | hybrid | æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰: hybrid, vector, keyword |

---

### 2.4 design Tool â€” ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆ

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ã¨è¦ä»¶ã«åŸºã¥ã„ã¦ã€æœ€é©ãªãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLè¨­å®šã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’è¨­è¨ˆã—ã¦ã€‚
è¦ä»¶: csrfå¯¾ç­–ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆçµæœ

**ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒ—**: web
**ãƒãƒ³ãƒ‰ãƒ©æ•°**: 14
**é©ç”¨è¦ä»¶**: csrf, session, security

### ãƒãƒ³ãƒ‰ãƒ©æ§‹æˆ

| # | ãƒãƒ³ãƒ‰ãƒ© | èª¬æ˜ | å¿…é ˆ |
|---|----------|------|------|
| 1 | StatusCodeConvertHandler | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰å¤‰æ› | â—‹ |
| 2 | HttpResponseHandler | HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç† | â—‹ |
| 3 | GlobalErrorHandler | ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼å‡¦ç† | â—‹ |
| 4 | SecureHandler | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ä»˜ä¸ | - |
| 5 | HttpCharacterEncodingHandler | æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° | â—‹ |
...

### XMLè¨­å®š

```xml
<!-- webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­å®š -->
<list name="handlerQueue">
  <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰å¤‰æ› -->
  <component class="nablarch.fw.handler.StatusCodeConvertHandler"/>
  <!-- HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç† -->
  <component class="nablarch.fw.web.handler.HttpResponseHandler"/>
  <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <component class="nablarch.fw.web.handler.SecureHandler"/>
  <!-- CSRFå¯¾ç­– -->
  <component class="nablarch.fw.web.handler.CsrfTokenVerificationHandler"/>
  ...
</list>
```
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `appType` | String | â—‹ | - | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: web, rest, batch, messaging |
| `requirements` | String | - | null | ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¦ä»¶ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰: session, csrf, multipart, async, security, logging |
| `includeComments` | Boolean | - | true | ç”ŸæˆXMLã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’å«ã‚ã‚‹ã‹ |

---

### 2.5 generate_code Tool â€” ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ

Nablarchæº–æ‹ ã®Javaã‚³ãƒ¼ãƒ‰ï¼ˆActionã€Formã€SQLå®šç¾©ã€Entityã€Handlerã€Interceptorï¼‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
UserRegistrationActionã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã—ã¦ã€‚
- app_type: web
- routing: /users/register
- methods: GET, POST
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ç”Ÿæˆçµæœ: UserRegistration (web/action)

### é©ç”¨ã•ã‚ŒãŸNablarchè¦ç´„
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆ: {project}.app.action
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯Formã‚¯ãƒ©ã‚¹ã§å—ã‘å–ã‚‹
- å˜ä¸€è²¬ä»»: 1Action = 1ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

### å¿…è¦ãªä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- nablarch-fw-web
- nablarch-common-validation

---

### ãƒ•ã‚¡ã‚¤ãƒ« 1: UserRegistrationAction.java

```java
package com.example.app.action;

import nablarch.core.message.ApplicationException;
import nablarch.fw.ExecutionContext;
import nablarch.fw.web.HttpRequest;
import nablarch.fw.web.HttpResponse;
import nablarch.fw.web.interceptor.OnError;
import nablarch.common.web.interceptor.InjectForm;

public class UserRegistrationAction {

    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
     */
    public HttpResponse index(HttpRequest request, ExecutionContext context) {
        return new HttpResponse("/WEB-INF/view/user/register.jsp");
    }

    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
     */
    @InjectForm(form = UserRegistrationForm.class, prefix = "form")
    @OnError(type = ApplicationException.class, path = "/WEB-INF/view/user/register.jsp")
    public HttpResponse register(HttpRequest request, ExecutionContext context) {
        UserRegistrationForm form = context.getRequestScopedVar("form");

        // TODO: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

        return new HttpResponse(303, "redirect:///users/complete");
    }
}
```
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `type` | String | â—‹ | - | ç”Ÿæˆå¯¾è±¡ã‚¿ã‚¤ãƒ—: action, form, sql, entity, handler, interceptor |
| `name` | String | â—‹ | - | ç”Ÿæˆã™ã‚‹ã‚¯ãƒ©ã‚¹/ãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ï¼ˆä¾‹: 'UserRegistration'ï¼‰ |
| `appType` | String | - | web | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: web, rest, batch, messaging |
| `specifications` | String | - | null | ã‚¿ã‚¤ãƒ—å›ºæœ‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆJSONæ–‡å­—åˆ—ï¼‰ |

---

### 2.6 generate_test Tool â€” ãƒ†ã‚¹ãƒˆç”Ÿæˆ

Nablarch Testing Frameworkï¼ˆJUnit5 + Excelãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ï¼‰ã«æº–æ‹ ã—ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
UserRegistrationActionã®ãƒ†ã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ã€‚
- testType: request-response
- format: nablarch-excel
- testCases: æ­£å¸¸ç™»éŒ²ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã€é‡è¤‡ãƒ¡ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ãƒ†ã‚¹ãƒˆç”Ÿæˆçµæœ: UserRegistrationAction

---

### ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹: UserRegistrationActionRequestTest

```java
package com.example.app.action;

import nablarch.test.core.http.SimpleRestTestSupport;
import org.junit.jupiter.api.Test;

public class UserRegistrationActionRequestTest extends SimpleRestTestSupport {

    @Test
    void æ­£å¸¸ã«ç™»éŒ²ã§ãã‚‹ã“ã¨() {
        execute("æ­£å¸¸ã«ç™»éŒ²ã§ãã‚‹ã“ã¨");
    }

    @Test
    void ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®å ´åˆ400ã‚’è¿”ã™ã“ã¨() {
        execute("ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®å ´åˆ400ã‚’è¿”ã™ã“ã¨");
    }

    @Test
    void é‡è¤‡ãƒ¡ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã®å ´åˆ409ã‚’è¿”ã™ã“ã¨() {
        execute("é‡è¤‡ãƒ¡ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã®å ´åˆ409ã‚’è¿”ã™ã“ã¨");
    }
}
```

---

### Excelãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æ§‹é€ 

**ãƒ•ã‚¡ã‚¤ãƒ«å**: `UserRegistrationActionRequestTest.xlsx`

#### ã‚·ãƒ¼ãƒˆ: æ­£å¸¸ã«ç™»éŒ²ã§ãã‚‹ã“ã¨

| setupTable: USERS | | | |
|-------------------|---|---|---|
| ID | NAME | EMAIL | STATUS |
| (ç©º) | | | |

| requestParams | | |
|---------------|---|---|
| userId | testUser001 |
| email | test@example.com |

| expectedStatus | |
|----------------|---|
| 200 | |
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `targetClass` | String | â—‹ | - | ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚¯ãƒ©ã‚¹ã®FQCN |
| `testType` | String | â—‹ | - | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—: unit, request-response, batch, messaging |
| `format` | String | - | junit5 | å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: junit5, nablarch-excel |
| `testCases` | String | - | null | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è‡ªç„¶è¨€èªè¨˜è¿° |

---

### 2.7 optimize Tool â€” ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æœ€é©åŒ–

æ—¢å­˜ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLè¨­å®šã‚’åˆ†æã—ã€æ­£ç¢ºæ€§ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®3è¦³ç‚¹ã‹ã‚‰æœ€é©åŒ–ææ¡ˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
ã“ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’æœ€é©åŒ–ã—ã¦:

<list name="handlerQueue">
  <component class="nablarch.fw.web.handler.HttpResponseHandler"/>
  <component class="nablarch.common.handler.DbConnectionManagementHandler"/>
  <component class="nablarch.fw.handler.DispatchHandler"/>
</list>
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æœ€é©åŒ–åˆ†æ

**ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒ—**: webï¼ˆè‡ªå‹•æ¨å®šï¼‰
**ãƒãƒ³ãƒ‰ãƒ©æ•°**: 3
**æ¤œå‡ºã•ã‚ŒãŸæœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ**: 2ä»¶

### ã‚µãƒãƒª

| è¦³ç‚¹ | ä»¶æ•° | é«˜ | ä¸­ | ä½ |
|------|------|-----|-----|-----|
| æ­£ç¢ºæ€§ | 0 | 0 | 0 | 0 |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | 2 | 2 | 0 | 0 |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | 0 | 0 | 0 | 0 |

---

### ğŸ”´ [SEC-001] SecureHandlerï¼ˆé«˜ï¼‰

**è¦³ç‚¹**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
**ã‚¿ã‚¤ãƒ—**: ãƒãƒ³ãƒ‰ãƒ©è¿½åŠ 
**å•é¡Œ**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“
**ä¿®æ­£ææ¡ˆ**: HttpResponseHandlerã®å¾Œã«SecureHandlerã‚’è¿½åŠ ã—ã¦ãã ã•ã„

#### After
```xml
<component class="nablarch.fw.web.handler.HttpResponseHandler"/>
<component class="nablarch.fw.web.handler.SecureHandler"/> <!-- è¿½åŠ  -->
<component class="nablarch.common.handler.DbConnectionManagementHandler"/>
```
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `currentXml` | String | â—‹ | - | ç¾åœ¨ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLè¨­å®š |
| `appType` | String | - | è‡ªå‹•æ¨å®š | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ— |
| `concern` | String | - | all | æœ€é©åŒ–è¦³ç‚¹: all, correctness, security, performance |

---

### 2.8 recommend Tool â€” ãƒ‘ã‚¿ãƒ¼ãƒ³æ¨è–¦

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è‡ªç„¶è¨€èªè¦ä»¶ã«åŸºã¥ã„ã¦ã€Nablarchå›ºæœ‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ä»˜ãã§æ¨è–¦ã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ’ä»–åˆ¶å¾¡ã‚’å®Ÿè£…ã—ãŸã„ã€‚
è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚ã«æ›´æ–°ã—ã¦ã‚‚æ•´åˆæ€§ã‚’ä¿ã¡ãŸã„ã€‚
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³æ¨è–¦çµæœ

**è¦ä»¶**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ’ä»–åˆ¶å¾¡ã‚’å®Ÿè£…ã—ãŸã„ã€‚è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚ã«æ›´æ–°ã—ã¦ã‚‚æ•´åˆæ€§ã‚’ä¿ã¡ãŸã„
**å€™è£œæ•°**: 3ä»¶

---

### ğŸ¥‡ ç¬¬1ä½: OptimisticLockPatternï¼ˆã‚¹ã‚³ã‚¢: 87%ï¼‰

**ã‚«ãƒ†ã‚´ãƒª**: data-access
**é©åˆç†ç”±**: è¦ä»¶ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨é«˜ã„ä¸€è‡´åº¦

#### ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ¦‚è¦
ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã¾ãŸã¯æ›´æ–°æ—¥æ™‚ã‚’ä½¿ç”¨ã—ãŸæ¥½è¦³çš„ãƒ­ãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚
Nablarchã§ã¯@Versionã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

#### ã‚³ãƒ¼ãƒ‰ä¾‹
```java
@Entity
public class User {
    @Id
    private Long id;

    @Version
    private Long version;  // æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ç”¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·

    // ...
}
```

#### ã‚¹ã‚³ã‚¢å†…è¨³
| ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ | ã‚¹ã‚³ã‚¢ |
|-----------|--------|
| ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä¸€è‡´ | 90% |
| ã‚«ãƒ†ã‚´ãƒªä¸€è‡´ | 100% |
| app_typeé©åˆ | 100% |
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `requirement` | String | â—‹ | - | è‡ªç„¶è¨€èªè¦ä»¶è¨˜è¿°ï¼ˆ10æ–‡å­—ä»¥ä¸Šï¼‰ |
| `appType` | String | - | null | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: web, rest, batch, messaging |
| `constraints` | String | - | null | è¿½åŠ ã®åˆ¶ç´„æ¡ä»¶ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰ |
| `maxResults` | Integer | - | 3 | è¿”å´ã™ã‚‹æœ€å¤§å€™è£œæ•°ï¼ˆ1-11ï¼‰ |

---

### 2.9 analyze_migration Tool â€” ç§»è¡Œå½±éŸ¿åˆ†æ

Nablarch 5ã‹ã‚‰6ã¸ã®ç§»è¡Œã«ãŠã„ã¦ã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®éæ¨å¥¨APIä½¿ç”¨ã‚’æ¤œå‡ºã—ã€ç§»è¡Œå½±éŸ¿ã‚’åˆ†æã—ã¾ã™ã€‚

#### ã“ã†èãã¨

```
ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’Nablarch 6ã«ç§»è¡Œã™ã‚‹å½±éŸ¿ã‚’åˆ†æã—ã¦:

import javax.servlet.http.HttpServletRequest;
import javax.persistence.Entity;

public class UserAction extends DbAccessSupport {
    // ...
}
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## Nablarchç§»è¡Œå½±éŸ¿åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

| é …ç›® | å€¤ |
|------|-----|
| ç§»è¡Œå…ƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ | Nablarch 5 |
| ç§»è¡Œå…ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ | Nablarch 6 |
| ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | Java |
| æ¤œå‡ºå•é¡Œæ•° | 3ä»¶ |

### ã‚µãƒãƒª

| åˆ†é¡ | ä»¶æ•° |
|------|------|
| ğŸ”§ è‡ªå‹•ä¿®æ­£å¯èƒ½ | 2ä»¶ |
| ğŸ”¨ æ‰‹å‹•ä¿®æ­£å¿…è¦ | 1ä»¶ |

---

### æ¤œå‡ºã•ã‚ŒãŸå•é¡Œ

#### åå‰ç©ºé–“ã®å¤‰æ›´ï¼ˆjavax â†’ jakartaï¼‰

ğŸ”§ **BC-001**: Jakarta EE 9ä»¥é™ã§ã¯javax.servletãŒjakarta.servletã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸ

- **æ¤œå‡ºç®‡æ‰€**: è¡Œ1
- **è©²å½“ã‚³ãƒ¼ãƒ‰**: `javax.servlet.http.HttpServletRequest`
- **ä¿®æ­£å¾Œ**: `jakarta.servlet.http.HttpServletRequest`

ğŸ”§ **BC-002**: jakarta.persistenceã«å¤‰æ›´

- **æ¤œå‡ºç®‡æ‰€**: è¡Œ2
- **è©²å½“ã‚³ãƒ¼ãƒ‰**: `javax.persistence.Entity`
- **ä¿®æ­£å¾Œ**: `jakarta.persistence.Entity`

#### å‰Šé™¤ã•ã‚ŒãŸAPI

ğŸ”¨ **BC-003**: DbAccessSupportã‚¯ãƒ©ã‚¹ã¯Nablarch 6ã§å‰Šé™¤ã•ã‚Œã¾ã—ãŸ

- **æ¤œå‡ºç®‡æ‰€**: è¡Œ4
- **æ¨å¥¨å¯¾å¿œ**: UniversalDaoã¾ãŸã¯BasicDatabaseAccessã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ãã ã•ã„
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| `codeSnippet` | String | â—‹ | - | åˆ†æå¯¾è±¡ã®ã‚³ãƒ¼ãƒ‰ï¼ˆJava, XML, POMï¼‰ |
| `sourceVersion` | String | - | 5 | ç§»è¡Œå…ƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ5, 5.0, 5.1, 5.2ï¼‰ |
| `targetVersion` | String | - | 6 | ç§»è¡Œå…ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ6, 6.0, 6.1ï¼‰ |
| `analysisScope` | String | - | full | åˆ†æç¯„å›²: full, namespace, dependency, api |

---

### 2.10 Tools ã¾ã¨ã‚

| Toolå | ç”¨é€” | Phase |
|--------|------|-------|
| search_api | APIãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢ | 1 |
| validate_handler_queue | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ¤œè¨¼ | 1 |
| semantic_search | RAGã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ | 2 |
| design | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆ | 2 |
| generate_code | ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ | 2 |
| generate_test | ãƒ†ã‚¹ãƒˆç”Ÿæˆ | 2 |
| optimize | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æœ€é©åŒ– | 2 |
| recommend | ãƒ‘ã‚¿ãƒ¼ãƒ³æ¨è–¦ | 2 |
| analyze_migration | ç§»è¡Œå½±éŸ¿åˆ†æ | 2 |

---

## 3. Resourcesã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

Resourcesã¯AIãŒå‚ç…§ã§ãã‚‹çŸ¥è­˜ã‚«ã‚¿ãƒ­ã‚°ã§ã™ã€‚AIã«ã€Œã€œã®ãƒãƒ³ãƒ‰ãƒ©ã‚«ã‚¿ãƒ­ã‚°ã‚’è¦‹ã›ã¦ã€ã€Œã€œã®ã‚¬ã‚¤ãƒ‰ã‚’èª­ã‚“ã§ã€ã¨ä¾é ¼ã™ã‚‹ã¨ã€AIãŒResourceã‚’èª­ã¿è¾¼ã‚“ã§æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

### 3.1 handler/{app_type} Resource â€” ãƒãƒ³ãƒ‰ãƒ©ã‚«ã‚¿ãƒ­ã‚°

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—åˆ¥ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ä»•æ§˜ã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://handler/web` | Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ |
| `nablarch://handler/rest` | RESTful Webã‚µãƒ¼ãƒ“ã‚¹ç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ |
| `nablarch://handler/batch` | ãƒãƒƒãƒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ |
| `nablarch://handler/messaging` | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ |
| `nablarch://handler/http-messaging` | HTTPåŒæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ |
| `nablarch://handler/jakarta-batch` | Jakarta Batchç”¨ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ |

#### ã“ã†èãã¨

```
nablarch://handler/web ã‚’èª­ã‚“ã§ã€webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’æ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# Nablarch Web Application Handler Queue

Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æ¨™æº–ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ§‹æˆã§ã™ã€‚

## Handler Queue (in order)

### 1. StatusCodeConvertHandler [Required]
- **FQCN**: `nablarch.fw.handler.StatusCodeConvertHandler`
- **Thread**: Main
- **Description**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰å¤‰æ›ãƒãƒ³ãƒ‰ãƒ©
- **Constraints**:
  - Must be first in the queue

### 2. HttpResponseHandler [Required]
- **FQCN**: `nablarch.fw.web.handler.HttpResponseHandler`
- **Thread**: Main
- **Description**: HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†
- **Constraints**:
  - Must be before: SecureHandler

...

## Ordering Constraints Summary

| Handler | Rule | Details |
|---------|------|---------|
| DbConnectionManagementHandler | Must be before | TransactionManagementHandler |
| GlobalErrorHandler | Must be before | HttpResponseHandler |
```

---

### 3.2 guide/{topic} Resource â€” é–‹ç™ºã‚¬ã‚¤ãƒ‰

ãƒˆãƒ”ãƒƒã‚¯åˆ¥ã®é–‹ç™ºã‚¬ã‚¤ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://guide/setup` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‚¬ã‚¤ãƒ‰ |
| `nablarch://guide/testing` | ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¬ã‚¤ãƒ‰ |
| `nablarch://guide/validation` | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ |
| `nablarch://guide/database` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¬ã‚¤ãƒ‰ |
| `nablarch://guide/handler-queue` | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚¬ã‚¤ãƒ‰ |
| `nablarch://guide/error-handling` | ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ |

#### ã“ã†èãã¨

```
nablarch://guide/database ã‚’èª­ã‚“ã§ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# Nablarch Database Guide

## Overview

Nablarchã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ã¾ã¨ã‚ãŸã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## UniversalDao ãƒ‘ã‚¿ãƒ¼ãƒ³

### æ¦‚è¦
UniversalDaoã¯ã€NablarchãŒæä¾›ã™ã‚‹æ±ç”¨çš„ãªãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹APIã§ã™ã€‚

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```java
// æ¤œç´¢
User user = UniversalDao.findById(User.class, userId);

// ç™»éŒ²
UniversalDao.insert(user);

// æ›´æ–°
UniversalDao.update(user);

// å‰Šé™¤
UniversalDao.delete(user);
```

### SQLå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«

...
```

---

### 3.3 api/{module}/{class} Resource â€” APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

Nablarchã®APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ã‚¯ãƒ©ã‚¹æƒ…å ±ï¼‰ã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://api/` | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€è¦§ |
| `nablarch://api/{module}` | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã‚¯ãƒ©ã‚¹ä¸€è¦§ |
| `nablarch://api/{module}/{class}` | ã‚¯ãƒ©ã‚¹è©³ç´° |

#### ã“ã†èãã¨

```
nablarch://api/common-dao ã‚’èª­ã‚“ã§ã€UniversalDaoãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¯ãƒ©ã‚¹ä¸€è¦§ã‚’æ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```json
{
  "type": "class_list",
  "module_key": "common-dao",
  "classes": [
    {
      "simple_name": "UniversalDao",
      "fqcn": "nablarch.common.dao.UniversalDao",
      "description": "æ±ç”¨çš„ãªãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹APIã‚’æä¾›ã™ã‚‹ã‚¯ãƒ©ã‚¹"
    },
    {
      "simple_name": "EntityUtil",
      "fqcn": "nablarch.common.dao.EntityUtil",
      "description": "Entityé–¢é€£ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£"
    }
  ],
  "total_classes": 8
}
```

---

### 3.4 pattern/{name} Resource â€” è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

Nablarchå›ºæœ‰ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚«ã‚¿ãƒ­ã‚°ã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://pattern/` | ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ |
| `nablarch://pattern/{name}` | ãƒ‘ã‚¿ãƒ¼ãƒ³è©³ç´° |

#### ã“ã†èãã¨

```
nablarch://pattern/form-validation-pattern ã‚’èª­ã‚“ã§ã€ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# form-validation-pattern

**ã‚«ãƒ†ã‚´ãƒª**: validation

## æ¦‚è¦
Nablarchã®ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚
Bean Validationã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨@InjectFormã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿè£…ã€‚

## å•é¡Œ
HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ±ä¸€çš„ã«å®Ÿè£…ã—ãŸã„ã€‚

## è§£æ±ºç­–
1. Formã‚¯ãƒ©ã‚¹ã«Bean Validationã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸
2. Actionãƒ¡ã‚½ãƒƒãƒ‰ã«InjectFormã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ã‚’é©ç”¨
3. OnErrorã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ã‚³ãƒ¼ãƒ‰ä¾‹

```java
public class UserForm implements Serializable {
    @Required
    @Length(max = 100)
    private String userName;

    @Required
    @Email
    private String email;

    // getter/setter
}

public class UserAction {
    @InjectForm(form = UserForm.class, prefix = "form")
    @OnError(type = ApplicationException.class, path = "/WEB-INF/view/error.jsp")
    public HttpResponse register(HttpRequest request, ExecutionContext context) {
        UserForm form = context.getRequestScopedVar("form");
        // ...
    }
}
```
```

---

### 3.5 antipattern/{name} Resource â€” ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³

Nablarché–‹ç™ºã§ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãã®ä¿®æ­£æ–¹æ³•ã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://antipattern/` | ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ |
| `nablarch://antipattern/{name}` | ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³è©³ç´° |

---

### 3.6 config/{name} Resource â€” XMLè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

Nablarchã®XMLè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://config/` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ |
| `nablarch://config/{name}` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾— |

#### æœ‰åŠ¹ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå

```
web-xml, web-component, rest-component, batch-component,
db-connection, ...
```

---

### 3.7 example/{type} Resource â€” ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

Nablarchã®ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªURI

| URI | èª¬æ˜ |
|-----|------|
| `nablarch://example/` | ã‚µãƒ³ãƒ—ãƒ«ä¸€è¦§ |
| `nablarch://example/{type}` | ã‚µãƒ³ãƒ—ãƒ«è©³ç´° |

---

### 3.8 version Resource â€” ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±

Nablarchãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚

#### URI

```
nablarch://version
```

#### ã“ã†èãã¨

```
nablarch://version ã‚’èª­ã‚“ã§ã€æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```json
{
  "type": "version_info",
  "framework_name": "Nablarch",
  "latest_version": "6u2",
  "release_date": "2024-xx-xx",
  "supported_versions": ["6u2", "6u1", "5u21"],
  "platforms": {
    "java": ["17", "21"],
    "application_server": ["Tomcat 10.x", "WildFly 31"]
  },
  "bom": {
    "group_id": "com.nablarch.profile",
    "artifact_id": "nablarch-bom",
    "version": "6u2"
  },
  "total_modules": 20,
  "links": {
    "documentation": "https://nablarch.github.io/docs/",
    "github": "https://github.com/nablarch"
  }
}
```

---

### 3.9 Resources ã¾ã¨ã‚

| Resourceç¨®åˆ¥ | URIãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ | æä¾›å†…å®¹ |
|-------------|------------------|---------|
| Handler | `nablarch://handler/` | ãƒãƒ³ãƒ‰ãƒ©ã‚«ã‚¿ãƒ­ã‚°ï¼ˆ6ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒ—ï¼‰ |
| Guide | `nablarch://guide/` | é–‹ç™ºã‚¬ã‚¤ãƒ‰ï¼ˆ6ãƒˆãƒ”ãƒƒã‚¯ï¼‰ |
| API | `nablarch://api/` | APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ã‚¯ãƒ©ã‚¹ï¼‰ |
| Pattern | `nablarch://pattern/` | è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ11ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ |
| Antipattern | `nablarch://antipattern/` | ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ |
| Config | `nablarch://config/` | XMLè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ9ç¨®ï¼‰ |
| Example | `nablarch://example/` | ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ |
| Version | `nablarch://version` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ± |

---

## 4. Promptsã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

Promptsã¯AIãŒä½¿ãˆã‚‹å¯¾è©±ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚AIã«ã€Œãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’è¨­è¨ˆã—ãŸã„ã€ã€Œç§»è¡Œã‚¬ã‚¤ãƒ‰ãŒæ¬²ã—ã„ã€ã¨ä¾é ¼ã™ã‚‹ã¨ã€AIãŒé©åˆ‡ãªPromptã‚’å‘¼ã³å‡ºã—ã¦ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

### 4.1 setup-handler-queue Prompt â€” ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆã‚¬ã‚¤ãƒ‰

ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ§‹æˆã‚’æ”¯æ´ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚

#### ã“ã†èãã¨

```
webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’è¨­è¨ˆã—ãŸã„
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# Nablarch Web Application ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆã‚¬ã‚¤ãƒ‰

## æ¨å¥¨ãƒãƒ³ãƒ‰ãƒ©ä¸€è¦§

| # | ãƒãƒ³ãƒ‰ãƒ© | FQCN | å¿…é ˆ | ã‚¹ãƒ¬ãƒƒãƒ‰ | èª¬æ˜ |
|---|---------|------|------|---------|------|
| 1 | StatusCodeConvertHandler | nablarch.fw.handler.StatusCodeConvertHandler | â—‹ | Main | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰å¤‰æ› |
| 2 | HttpResponseHandler | nablarch.fw.web.handler.HttpResponseHandler | â—‹ | Main | HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç† |
...

## é †åºåˆ¶ç´„

| ãƒãƒ³ãƒ‰ãƒ© | ãƒ«ãƒ¼ãƒ« | é…ç½®è¦ä»¶ | ç†ç”± |
|---------|-------|---------|------|
| DbConnectionManagementHandler | Must be before | TransactionManagementHandler | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã«ã¯DBæ¥ç¶šãŒå¿…è¦ |
...

## XMLè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```xml
<list name="handlerQueue">
  <component class="nablarch.fw.handler.StatusCodeConvertHandler"/>
  <component class="nablarch.fw.web.handler.HttpResponseHandler"/>
  ...
</list>
```
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `app_type` | String | â—‹ | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: web, rest, batch, messaging |

---

### 4.2 create-action Prompt â€” ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆã‚¬ã‚¤ãƒ‰

Nablarchã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ç”Ÿæˆã‚’æ”¯æ´ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `app_type` | String | â—‹ | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: web, rest, batch, messaging |
| `action_name` | String | â—‹ | ç”Ÿæˆã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã®åå‰ |

---

### 4.3 review-config Prompt â€” è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¬ã‚¤ãƒ‰

Nablarchã®XMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚

#### ã“ã†èãã¨

```
ã“ã®XMLè¨­å®šã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦: <list name="handlerQueue">...</list>
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
## ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒãƒ³ãƒ‰ãƒ©é †åºåˆ¶ç´„ãƒã‚§ãƒƒã‚¯

| ãƒãƒ³ãƒ‰ãƒ© | ãƒ«ãƒ¼ãƒ« | é…ç½®è¦ä»¶ | ç†ç”± |
|---------|-------|---------|------|
| DbConnectionManagementHandler | Must be before | TransactionManagementHandler | ... |

### ä¸€èˆ¬çš„ãªå•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³

#### ERR-001: handler queue is empty
- **åŸå› **: handlerQueueãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„
- **è§£æ±ºç­–**: web.xmlã®configFilePathã‚’ç¢ºèª

...

### ä¸€èˆ¬æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] å¿…é ˆãƒãƒ³ãƒ‰ãƒ©ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹
- [ ] FQCNãŒæ­£ç¢ºã‹
- [ ] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã«å¾ªç’°å‚ç…§ãŒãªã„ã‹
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¨­å®šãŒæ­£ã—ã„ã‹
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `config_xml` | String | â—‹ | ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡ã®XMLè¨­å®šå†…å®¹ |

---

### 4.4 explain-handler Prompt â€” ãƒãƒ³ãƒ‰ãƒ©è§£èª¬

Nablarchãƒãƒ³ãƒ‰ãƒ©ã®è©³ç´°èª¬æ˜ã‚’æä¾›ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚

#### ã“ã†èãã¨

```
GlobalErrorHandlerã«ã¤ã„ã¦è©³ã—ãæ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# GlobalErrorHandler è§£èª¬

## åŸºæœ¬æƒ…å ±

| é …ç›® | å€¤ |
|------|-----|
| åå‰ | GlobalErrorHandler |
| FQCN | nablarch.fw.handler.GlobalErrorHandler |
| èª¬æ˜ | ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ã€‚å…¨ä¾‹å¤–ã‚’æ•æ‰ã—çµ±ä¸€çš„ã«ã‚¨ãƒ©ãƒ¼å‡¦ç† |
| ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ¢ãƒ‡ãƒ« | Main |
| å¿…é ˆåŒºåˆ† | Required |
| æ¨å¥¨é †åº | 2ç•ªç›®ï¼ˆHttpResponseHandlerã®å‰ï¼‰ |

## ä½¿ç”¨ã•ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—

- web
- rest
- batch
- messaging

## é †åºåˆ¶ç´„

| ãƒ«ãƒ¼ãƒ« | é…ç½®è¦ä»¶ | ç†ç”± |
|-------|---------|------|
| Must be before | HttpResponseHandler | ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ã‚ˆã‚Šå‰ã«ä¾‹å¤–ã‚’æ•æ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ |
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `handler_name` | String | â—‹ | è§£èª¬ã™ã‚‹ãƒãƒ³ãƒ‰ãƒ©ã®åå‰ |

---

### 4.5 migration-guide Prompt â€” ç§»è¡Œã‚¬ã‚¤ãƒ‰

Nablarchãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã®ç§»è¡Œã‚¬ã‚¤ãƒ‰ã‚’æä¾›ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚

#### ã“ã†èãã¨

```
Nablarch 5ã‹ã‚‰6ã¸ã®ç§»è¡Œã‚¬ã‚¤ãƒ‰ãŒæ¬²ã—ã„
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# Nablarch 5 â†’ 6 ç§»è¡Œã‚¬ã‚¤ãƒ‰

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€è¦§

| # | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å | artifactId | ã‚«ãƒ†ã‚´ãƒª | èª¬æ˜ |
|---|------------|-----------|---------|------|
| 1 | Nablarch Framework Web | nablarch-fw-web | framework | Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
...

## å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¸»è¦ã‚¯ãƒ©ã‚¹ç¢ºèª

### nablarch-fw-web

- FQCN: nablarch.fw.web.HttpRequest
- èª¬æ˜: HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡¨ã™ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

...

## ä¸€èˆ¬çš„ãªç§»è¡Œã‚¹ãƒ†ãƒƒãƒ—

1. **BOMãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°**: nablarch-bom ã‚’ 6.x ã«æ›´æ–°
2. **ç ´å£Šçš„å¤‰æ›´ç¢ºèª**: javax â†’ jakarta åå‰ç©ºé–“å¤‰æ›´
3. **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯**: mvn clean compile
4. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: mvn test
5. **ãƒãƒ³ãƒ‰ãƒ©ã‚«ã‚¿ãƒ­ã‚°ç¢ºèª**: éæ¨å¥¨ãƒãƒ³ãƒ‰ãƒ©ã®ç½®ãæ›ãˆ
6. **XMLè¨­å®šãƒã‚§ãƒƒã‚¯**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã®æ›´æ–°
7. **çµ±åˆãƒ†ã‚¹ãƒˆ**: çµåˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `from_version` | String | â—‹ | ç§»è¡Œå…ƒNablarchãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
| `to_version` | String | â—‹ | ç§»è¡Œå…ˆNablarchãƒãƒ¼ã‚¸ãƒ§ãƒ³ |

---

### 4.6 best-practices Prompt â€” ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

Nablarché–‹ç™ºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æä¾›ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚

#### ã“ã†èãã¨

```
Nablarchã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ•™ãˆã¦
```

#### ã“ã†è¿”ã£ã¦ãã‚‹

```markdown
# Nablarch handler-queue ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

## è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

### form-validation-pattern
- **ã‚«ãƒ†ã‚´ãƒª**: validation
- **å•é¡Œ**: HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ±ä¸€çš„ã«å®Ÿè£…ã—ãŸã„
- **è§£æ±ºç­–**: Bean Validationã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ + @InjectFormã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿

...

## æ¨å¥¨å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

### universal-dao (library)
- **èª¬æ˜**: UniversalDaoã‚’ä½¿ã£ãŸCRUDæ“ä½œ
- **FQCN**: nablarch.common.dao.UniversalDao

...

## ä¸€èˆ¬çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

- é †åºåˆ¶ç´„ã‚’å¿…ãšå®ˆã‚‹
- æœ¬ç•ªç’°å¢ƒã§ã¯ä¸è¦ãªãƒãƒ³ãƒ‰ãƒ©ï¼ˆHotDeployHandlerç­‰ï¼‰ã‚’é™¤å»ã™ã‚‹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒ³ãƒ‰ãƒ©ï¼ˆSecureHandler, CsrfTokenVerificationHandlerï¼‰ã‚’å¿…ãšå«ã‚ã‚‹
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `topic` | String | â—‹ | ãƒˆãƒ”ãƒƒã‚¯: handler-queue, action, validation, database, testing |

---

### 4.7 Prompts ã¾ã¨ã‚

| Promptå | ç”¨é€” | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |
|---------|------|-----------|
| setup-handler-queue | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆã‚¬ã‚¤ãƒ‰ | app_type |
| create-action | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆã‚¬ã‚¤ãƒ‰ | app_type, action_name |
| review-config | XMLè¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ | config_xml |
| explain-handler | ãƒãƒ³ãƒ‰ãƒ©è§£èª¬ | handler_name |
| migration-guide | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç§»è¡Œã‚¬ã‚¤ãƒ‰ | from_version, to_version |
| best-practices | ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ | topic |

---

## 5. å®Ÿè·µã‚·ãƒŠãƒªã‚ª: Nablarch Webã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã‚ˆã†

ã“ã“ã¾ã§å­¦ã‚“ã Tools/Resources/Promptsã‚’çµ„ã¿åˆã‚ã›ã¦ã€å®Ÿéš›ã®Nablarch Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¾ã™ã€‚

### 5.1 ã‚·ãƒŠãƒªã‚ªæ¦‚è¦

**ç›®æ¨™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ©Ÿèƒ½ã‚’æŒã¤Nablarch Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹

**æ©Ÿèƒ½è¦ä»¶**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢ï¼ˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼‰
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¿…é ˆé …ç›®ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ï¼‰
- DBç™»éŒ²ï¼ˆUSERSãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- å®Œäº†ç”»é¢ã¸ã®é·ç§»

**æŠ€è¡“è¦ä»¶**:
- Nablarch 6ç³»
- CSRFå¯¾ç­–ã‚ã‚Š
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢ä½¿ç”¨
- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†

### 5.2 ã‚¹ãƒ†ãƒƒãƒ—1: ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆ

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼ã‚’è¨­è¨ˆã—ã¦ã€‚
è¦ä»¶: csrfå¯¾ç­–ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãŒå¿…è¦ã€‚
```

#### AI ã«ã‚ˆã‚‹å‡¦ç†

1. AIãŒ `setup-handler-queue` Promptã‚’å‘¼ã³å‡ºã—
2. `nablarch://handler/web` Resourceã‚’å‚ç…§
3. `design` Toolã‚’å®Ÿè¡Œ

#### çµæœ

å®Œå…¨ãªãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLè¨­å®šãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚

```xml
<list name="handlerQueue">
  <component class="nablarch.fw.handler.StatusCodeConvertHandler"/>
  <component class="nablarch.fw.web.handler.HttpResponseHandler"/>
  <component class="nablarch.fw.handler.GlobalErrorHandler"/>
  <component class="nablarch.fw.web.handler.SecureHandler"/>
  <component class="nablarch.fw.web.handler.HttpCharacterEncodingHandler"/>
  <component class="nablarch.common.handler.threadcontext.ThreadContextClearHandler"/>
  <component class="nablarch.fw.web.handler.HttpErrorHandler"/>
  <component class="nablarch.fw.web.handler.SessionStoreHandler">
    <property name="sessionManager" ref="sessionManager"/>
  </component>
  <component class="nablarch.fw.web.handler.CsrfTokenVerificationHandler"/>
  <component class="nablarch.common.handler.threadcontext.ThreadContextHandler"/>
  <component class="nablarch.common.handler.DbConnectionManagementHandler"/>
  <component class="nablarch.common.handler.TransactionManagementHandler"/>
  <component class="nablarch.fw.web.handler.ForwardingHandler"/>
  <component class="nablarch.fw.web.handler.DispatchHandler"/>
</list>
```

---

### 5.3 ã‚¹ãƒ†ãƒƒãƒ—2: Actionã‚¯ãƒ©ã‚¹ç”Ÿæˆ

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
UserRegistrationActionã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã—ã¦ã€‚
- app_type: web
- routing: /users/register
- methods: GET, POST
```

#### AI ã«ã‚ˆã‚‹å‡¦ç†

1. `generate_code` Toolã‚’å®Ÿè¡Œï¼ˆtype=actionï¼‰
2. `nablarch://pattern/form-validation-pattern` Resourceã‚’å‚ç…§
3. `nablarch://guide/validation` Resourceã‚’å‚ç…§

#### çµæœ

```java
package com.example.app.action;

import nablarch.core.message.ApplicationException;
import nablarch.fw.ExecutionContext;
import nablarch.fw.web.HttpRequest;
import nablarch.fw.web.HttpResponse;
import nablarch.fw.web.interceptor.OnError;
import nablarch.common.web.interceptor.InjectForm;
import nablarch.common.dao.UniversalDao;

public class UserRegistrationAction {

    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
     */
    public HttpResponse index(HttpRequest request, ExecutionContext context) {
        return new HttpResponse("/WEB-INF/view/user/register.jsp");
    }

    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
     */
    @InjectForm(form = UserRegistrationForm.class, prefix = "form")
    @OnError(type = ApplicationException.class, path = "/WEB-INF/view/user/register.jsp")
    public HttpResponse register(HttpRequest request, ExecutionContext context) {
        UserRegistrationForm form = context.getRequestScopedVar("form");

        // Entityå¤‰æ›
        Users user = BeanUtil.createAndCopy(Users.class, form);

        // DBç™»éŒ²
        UniversalDao.insert(user);

        return new HttpResponse(303, "redirect:///users/complete");
    }
}
```

---

### 5.4 ã‚¹ãƒ†ãƒƒãƒ—3: Formã‚¯ãƒ©ã‚¹ç”Ÿæˆ

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
UserRegistrationFormã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã—ã¦ã€‚
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: userId (String, å¿…é ˆ, 20æ–‡å­—ä»¥å†…), email (String, å¿…é ˆ, ãƒ¡ãƒ¼ãƒ«å½¢å¼), password (String, å¿…é ˆ, 8-20æ–‡å­—)
```

#### AI ã«ã‚ˆã‚‹å‡¦ç†

1. `generate_code` Toolã‚’å®Ÿè¡Œï¼ˆtype=formï¼‰
2. `nablarch://guide/validation` Resourceã‚’å‚ç…§

#### çµæœ

```java
package com.example.app.form;

import nablarch.core.validation.ee.Required;
import nablarch.core.validation.ee.Length;
import nablarch.core.validation.ee.Domain;
import java.io.Serializable;

public class UserRegistrationForm implements Serializable {

    @Required
    @Length(max = 20)
    private String userId;

    @Required
    @Domain("emailAddress")
    private String email;

    @Required
    @Length(min = 8, max = 20)
    private String password;

    // getter/setterçœç•¥
}
```

---

### 5.5 ã‚¹ãƒ†ãƒƒãƒ—4: Entityã‚¯ãƒ©ã‚¹ç”Ÿæˆ

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
Usersã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã—ã¦ã€‚
- ãƒ†ãƒ¼ãƒ–ãƒ«å: USERS
- ã‚«ãƒ©ãƒ : USER_ID (Long, ä¸»ã‚­ãƒ¼), USER_NAME (String), EMAIL (String), PASSWORD (String), VERSION (Long, æ¥½è¦³ãƒ­ãƒƒã‚¯)
```

#### AI ã«ã‚ˆã‚‹å‡¦ç†

1. `generate_code` Toolã‚’å®Ÿè¡Œï¼ˆtype=entityï¼‰
2. `nablarch://pattern/OptimisticLockPattern` Resourceã‚’å‚ç…§

#### çµæœ

```java
package com.example.app.entity;

import jakarta.persistence.*;
import java.io.Serializable;

@Entity
@Table(name = "USERS")
public class Users implements Serializable {

    @Id
    @Column(name = "USER_ID")
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long userId;

    @Column(name = "USER_NAME", length = 100)
    private String userName;

    @Column(name = "EMAIL", length = 255)
    private String email;

    @Column(name = "PASSWORD", length = 255)
    private String password;

    @Version
    @Column(name = "VERSION")
    private Long version;

    // getter/setterçœç•¥
}
```

---

### 5.6 ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ç”Ÿæˆ

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
UserRegistrationActionã®ãƒ†ã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ã€‚
- testType: request-response
- format: nablarch-excel
- testCases: æ­£å¸¸ç™»éŒ²ã€å¿…é ˆé …ç›®æœªå…¥åŠ›ã€ãƒ¡ãƒ¼ãƒ«å½¢å¼ä¸æ­£ã€é‡è¤‡ãƒ¡ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼
```

#### AI ã«ã‚ˆã‚‹å‡¦ç†

1. `generate_test` Toolã‚’å®Ÿè¡Œ
2. `nablarch://guide/testing` Resourceã‚’å‚ç…§

#### çµæœ

JUnitãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ + Excelãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚

---

### 5.7 ã‚¹ãƒ†ãƒƒãƒ—6: è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
ç”Ÿæˆã•ã‚ŒãŸãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­å®šã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã€‚
```

#### AI ã«ã‚ˆã‚‹å‡¦ç†

1. `review-config` Promptã‚’å‘¼ã³å‡ºã—
2. `validate_handler_queue` Toolã‚’å®Ÿè¡Œ

#### çµæœ

```markdown
## ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼æ¤œè¨¼çµæœ

æ¤œè¨¼å¯¾è±¡: web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
ãƒãƒ³ãƒ‰ãƒ©æ•°: 14

### æ¤œè¨¼çµæœ: âœ… æˆåŠŸ

| # | ãƒãƒ³ãƒ‰ãƒ© | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|---|---------|----------|
| 1 | StatusCodeConvertHandler | âœ… |
| 2 | HttpResponseHandler | âœ… |
...

é †åºåˆ¶ç´„é•å: ãªã—
```

---

### 5.8 å…¨ä½“ãƒ•ãƒ­ãƒ¼å›³

```mermaid
graph TD
    A[ãƒ¦ãƒ¼ã‚¶ãƒ¼] -->|1. ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆ| B[design Tool]
    B --> C[ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XMLç”Ÿæˆ]

    A -->|2. Actionã‚¯ãƒ©ã‚¹ç”Ÿæˆ| D[generate_code Tool]
    D --> E[UserRegistrationAction.java]

    A -->|3. Formã‚¯ãƒ©ã‚¹ç”Ÿæˆ| F[generate_code Tool]
    F --> G[UserRegistrationForm.java]

    A -->|4. Entityã‚¯ãƒ©ã‚¹ç”Ÿæˆ| H[generate_code Tool]
    H --> I[Users.java]

    A -->|5. ãƒ†ã‚¹ãƒˆç”Ÿæˆ| J[generate_test Tool]
    J --> K[UserRegistrationActionRequestTest.java]

    A -->|6. è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼| L[validate_handler_queue Tool]
    L --> M[æ¤œè¨¼çµæœãƒ¬ãƒãƒ¼ãƒˆ]

    C --> N[å®Œæˆ]
    E --> N
    G --> N
    I --> N
    K --> N
    M --> N
```

---

### 5.9 ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| # | ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¿ã‚¤ãƒ— | ç”ŸæˆTool |
|---|---------|--------|---------|
| 1 | web-component-configuration.xml | ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼XML | design |
| 2 | UserRegistrationAction.java | Action | generate_code (type=action) |
| 3 | UserRegistrationForm.java | Form | generate_code (type=form) |
| 4 | Users.java | Entity | generate_code (type=entity) |
| 5 | UserRegistrationActionRequestTest.java | ãƒ†ã‚¹ãƒˆ | generate_test |
| 6 | UserRegistrationActionRequestTest.xlsx | Excelãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ | generate_test |

---

## 6. ã¾ã¨ã‚

### 6.1 æœ¬è¨˜äº‹ã§å­¦ã‚“ã ã“ã¨

- âœ… **10 Tools**ã®ä½¿ã„æ–¹ã¨å…¥å‡ºåŠ›ä¾‹
- âœ… **8 Resources**ã®URIä½“ç³»ã¨ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•
- âœ… **6 Prompts**ã®æ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
- âœ… å®Ÿè·µã‚·ãƒŠãƒªã‚ªã«ã‚ˆã‚‹Tools/Resources/Promptsã®çµ±åˆæ´»ç”¨

### 6.2 é–‹ç™ºåŠ¹ç‡ã¸ã®å½±éŸ¿

| ä½œæ¥­ | å¾“æ¥ã®æ–¹æ³• | Nablarch MCP Serverä½¿ç”¨æ™‚ | åŠ¹ç‡åŒ–ç‡ |
|------|-----------|--------------------------|---------|
| ãƒãƒ³ãƒ‰ãƒ©ã‚­ãƒ¥ãƒ¼è¨­è¨ˆ | å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§ + æ‰‹å‹•è¨­å®šï¼ˆ30åˆ†ï¼‰ | `design` Toolï¼ˆ3åˆ†ï¼‰ | **90%å‰Šæ¸›** |
| ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ”ãƒ¼ + æ‰‹å‹•ä¿®æ­£ï¼ˆ20åˆ†ï¼‰ | `generate_code` Toolï¼ˆ2åˆ†ï¼‰ | **90%å‰Šæ¸›** |
| APIæ¤œç´¢ | Javadocé–²è¦§ + Googleæ¤œç´¢ï¼ˆ15åˆ†ï¼‰ | `search_api` Toolï¼ˆ1åˆ†ï¼‰ | **93%å‰Šæ¸›** |
| ãƒ†ã‚¹ãƒˆä½œæˆ | æ‰‹å‹•ä½œæˆï¼ˆ40åˆ†ï¼‰ | `generate_test` Toolï¼ˆ5åˆ†ï¼‰ | **87%å‰Šæ¸›** |
| è¨­å®šæ¤œè¨¼ | æ‰‹å‹•ç¢ºèª + ãƒˆãƒ©ã‚¤ã‚¢ãƒ³ãƒ‰ã‚¨ãƒ©ãƒ¼ï¼ˆ20åˆ†ï¼‰ | `validate_handler_queue` Toolï¼ˆ1åˆ†ï¼‰ | **95%å‰Šæ¸›** |

### 6.3 æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æœ¬è¨˜äº‹ã§ã¯MCPæ©Ÿèƒ½ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‚’å­¦ã³ã¾ã—ãŸã€‚æ¬¡ã®è¨˜äº‹ã§ã¯ã€ã‚ˆã‚Šé«˜åº¦ãªæ´»ç”¨æ–¹æ³•ã«é€²ã¿ã¾ã™ã€‚

- **è¨˜äº‹05**: RAGæ¤œç´¢ã®è©³ç´° â€” ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã¨ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢
- **è¨˜äº‹06**: ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®é«˜åº¦ãªæ´»ç”¨ â€” ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- **è¨˜äº‹07**: CI/CDçµ±åˆ â€” GitHub Actionsã¨ã®é€£æº
- **è¨˜äº‹08**: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° â€” ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ–¹æ³•

---

## å‚è€ƒãƒªãƒ³ã‚¯

- ğŸ“˜ [è¨˜äº‹03: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰](./03-setup-guide.md)
- ğŸ“˜ [è¨˜äº‹05: RAGæ¤œç´¢ã®è©³ç´°](./05-rag-deep-dive.md)
- ğŸ“– [APIä»•æ§˜æ›¸](../06-api-specification.md)
- ğŸ“– [ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹é›†](../03-use-cases.md)
- ğŸ”— [Nablarchå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nablarch.github.io/docs/)
- ğŸ”— [GitHub: nablarch-mcp-server](https://github.com/kumanoGoro/nablarch-mcp-server)

---

<p align="center">
  <strong>ğŸš€ Nablarch MCP Server ã§é–‹ç™ºã‚’åŠ é€Ÿã—ã‚ˆã†ï¼</strong>
</p>

<p align="center">
  <a href="./03-setup-guide.md">â† å‰ã®è¨˜äº‹: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰</a> |
  <a href="./05-rag-deep-dive.md">æ¬¡ã®è¨˜äº‹: RAGæ¤œç´¢ã®è©³ç´° â†’</a>
</p>
